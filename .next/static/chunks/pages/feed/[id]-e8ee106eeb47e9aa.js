(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{8303:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/feed/[id]",function(){return s(5817)}])},9126:function(e,t,s){"use strict";var r=s(5893),l=s(7294),a=s(6154),n=s(1163),d=s(2175),i=s(2920),o=s(137);s(1399);var c=s(1664),x=s.n(c),m=s(8944);let h=e=>{let{pdata:t,user:s}=e,c=(0,n.useRouter)(),[h,u]=(0,l.useState)(!1),[f,p]=(0,l.useState)(t.likeBy.includes(s._id)),[g,j]=(0,l.useState)(t.likeBy.length),v=new Date().getTime()-new Date(t.createdAt),w=async()=>{f?(await a.Z.post("/api/user/feedPost/".concat(t._id),{userId:s._id,liked:!1}),j(g-1)):(await a.Z.post("/api/user/feedPost/".concat(t._id),{userId:s._id,liked:!0}),j(g+1)),p(!f)},b=()=>{c.replace(c.asPath)},N=async(e,r)=>{let{content:l}=e,n=await a.Z.put("/api/user/comment/".concat(t._id),{name:s.fullname,profile:s.profile,content:l});u(!1),200===n.status?(i.Am.success(n.data.msg,o.H),b()):i.Am.error(n.data.msg,o.H)},k=(0,d.TA)({initialValues:{content:""},onSubmit:N});return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"p-5 bg-lightMode-component dark:bg-darkMode-component mt-5 rounded-t-lg shadow-sm flex flex-col text-lightMode-txt dark:text-darkMode-txt",children:[(0,r.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,r.jsxs)("div",{className:"flex flex-row ",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2 flex-row",children:(0,r.jsx)("img",{className:"rounded-full w-10 h-10",src:null==t?void 0:t.userId.profile})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"font-medium",children:t.userId.fullname}),(0,r.jsxs)("p",{className:"text-xs text-gray-400",children:[(0,m.Z)(v)," ago"]})]})]}),(0,r.jsx)(x(),{href:"/feed/".concat(t._id),children:(0,r.jsx)("button",{className:"text-black dark:text-white",children:(0,r.jsx)("span",{className:"material-symbols-outlined",children:"open_in_new"})})})]}),(0,r.jsx)("p",{className:"mt-2",children:t.description})]}),(0,r.jsx)("div",{className:" flex justify-center align-center md-h-96 bg-zinc-300 dark:bg-neutral-800",children:(0,r.jsx)("img",{src:t.image,className:"object-contain max-h-[17rem]"})}),(0,r.jsxs)("div",{className:"flex flex-col rounded-b-lg bg-lightMode-component dark:bg-darkMode-component text-neutral-700 dark:text-neutral-400 border-t p-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center gap-9 mx-10 mb-2",children:[(0,r.jsxs)("div",{onClick:w,className:"rounded-lg cursor-pointer flex items-center space-x-1 hover:bg-neutral-300 dark:hover:bg-neutral-500 dark:hover:text-white justify-center p-1",children:[f?(0,r.jsx)("span",{className:"text-xl",children:"❤️ "}):(0,r.jsx)("span",{className:"text-xl",children:"\uD83E\uDD0D "}),(0,r.jsx)("div",{style:{paddingRight:"10px",whiteSpace:"nowrap",display:"inline-block"},children:g})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>u(!h),className:"rounded-lg cursor-pointer flex items-center space-x-1 hover:bg-neutral-300 dark:hover:bg-neutral-500 dark:hover:text-white justify-center p-2 px-3",children:[(0,r.jsx)("span",{className:"material-symbols-outlined",children:"chat"}),(0,r.jsx)("p",{className:"text-xs sm:text-base ",children:"Comment"})]}),(0,r.jsxs)("div",{className:"rounded-lg cursor-pointer flex items-center space-x-1 hover:bg-neutral-300 dark:hover:bg-neutral-500 dark:hover:text-white justify-center p-2 px-3",children:[(0,r.jsx)("span",{className:"material-symbols-outlined",children:"share"}),(0,r.jsx)("p",{className:"text-xs sm:text-base",children:"Share"})]})]}),h&&(0,r.jsxs)("div",{id:"CommentSection",className:" flex mx-4 space-x-4 p-4 items-center border-t-[1px] border-neutral-400 dark:border-neutral-600",children:[(0,r.jsx)("img",{className:"rounded-full w-8 h-8",src:s.profile}),(0,r.jsxs)("form",{action:"",className:"flex flex-1 ",onSubmit:k.handleSubmit,children:[(0,r.jsx)("input",{type:"text",className:"rounded-full h-8 bg-gray-100 dark:bg-neutral-800  flex flex-grow px-5 focus:outline-none ",placeholder:"Write a comment..",...k.getFieldProps("content")}),(0,r.jsx)("button",{type:"submit",className:"ml-4",children:(0,r.jsx)("span",{className:"material-symbols-outlined",children:"send"})})]})]})]})]})};t.Z=h},8944:function(e,t,s){"use strict";function r(e){let t=Math.round(e/1e3),s=Math.round(e/6e4),r=Math.round(e/36e5),l=Math.floor(e/864e5),a=Math.floor(e/31536e6);return e<6e4?t+(t<2?" second":" seconds"):e<36e5?s+(s<2?" minute":" minutes"):e<864e5?r+(r<2?" hour":" hours"):e<31536e6?l+(l<2?" day":" days"):a+(a<2?" year":" years")}s.d(t,{Z:function(){return r}})},9676:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var r=s(5893),l=s(1664),a=s.n(l);s(7294);var n=s(3299),d=s(1163);let i=e=>{let{isDoctor:t}=e,s=(0,d.useRouter)(),l=()=>{(0,n.signOut)({redirect:!1}),s.push("/login")},i=t?"/doctor/":"/";return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("nav",{className:"sticky top-0 bg-lightMode-btn dark:bg-gray-800 w-100 px-8 md:px-auto",children:(0,r.jsxs)("div",{className:"md:h-16 h-28 mx-auto md:px-4 container flex items-center justify-between flex-wrap md:flex-nowrap",children:[(0,r.jsxs)(a(),{href:"/feed",className:"text-white md:order-1 flex items-center cursor-pointer",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),(0,r.jsx)("span",{className:"ml-2 text-2xl font-extrabold tracking-tight leading-tight",children:"AROGYAM"})]}),(0,r.jsx)("div",{className:"order-3 w-full md:w-auto md:order-2",children:(0,r.jsxs)("ul",{className:"text-xl flex justify-around gap-4",children:[(0,r.jsx)("li",{className:"md:px-2 md:py-2 text-white dark:text-white dark:hover:text-slate-400 hover:text-neutral-700",children:(0,r.jsx)(a(),{href:i,children:"Home"})}),(0,r.jsx)("li",{className:"md:px-2 md:py-2 text-white dark:text-white dark:hover:text-slate-400 hover:text-neutral-700",children:(0,r.jsx)(a(),{href:"/feed",children:"Feed"})}),(0,r.jsx)("li",{className:"md:px-2 md:py-2 text-white dark:text-white dark:hover:text-slate-400 hover:text-neutral-700",children:(0,r.jsx)(a(),{href:"".concat(i,"profile"),children:"Profile"})}),t?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("li",{className:"md:px-2 md:py-2 text-white dark:text-white dark:hover:text-slate-400 hover:text-neutral-700",children:(0,r.jsx)(a(),{href:"/doctor/consult",children:"Consult"})})}):(0,r.jsx)(r.Fragment,{})]})}),(0,r.jsx)("div",{className:"order-2 md:order-3",children:(0,r.jsxs)("button",{className:"px-4 py-2 hover:bg-cyan-700 dark:hover:bg-cyan-900 text-gray-50 rounded-md flex items-center gap-2",onClick:l,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,r.jsx)("span",{children:"Sign Out"})]})})]})})})},o=e=>{let{children:t}=e,{data:s}=(0,n.useSession)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"w-screen h-screen overflow-hidden flex flex-col",children:[(0,r.jsx)(i,{isDoctor:null==s?void 0:s.user.isDoctor},1),t]})})};var c=o},137:function(e,t,s){"use strict";s.d(t,{H:function(){return r}});let r={position:"bottom-right",autoClose:3e3,pauseOnHover:!0,draggable:!0,theme:"dark"}},5817:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return i}});var r=s(5893),l=s(9126),a=s(9676);s(7294);var n=s(8944);let d=e=>{let{post:t,user:s}=e;return(0,r.jsx)(a.Z,{children:(0,r.jsxs)("div",{className:" bg-lightMode-background justify-center flex dark:bg-darkMode-background md:flex-row lg:flex-row overflow-scroll scrollbar-hide w-full h-full flex-col",children:[(0,r.jsx)("div",{className:"max-w-2xl w-full flex flex-col p-4 md:p-0 lg:p-0",children:(0,r.jsx)(l.Z,{pdata:t,user:s})}),(0,r.jsxs)("div",{className:"p-5 w-full md:w-[30%] lg:[30%] h-2/3 bg-lightMode-component overflow-scroll scrollbar-hide dark:bg-darkMode-component mt-5 rounded-lg shadow-sm flex flex-col text-lightMode-txt dark:text-darkMode-txt mx-5 ",children:[(0,r.jsx)("h1",{className:"font-semibold text-md mx-8 md:mx-0 lg:mx-0",children:"Comments"}),t.comments.map(e=>{let s=new Date().getTime()-new Date(t.createdAt);return(0,r.jsxs)("div",{id:"Comment",className:" border-t-[1px] mt-1  border-neutral-300 dark:border-neutral-600 flex space-x-4 p-2 ",children:[(0,r.jsx)("img",{className:"rounded-full w-8 h-8 mt-1",src:e.profile}),(0,r.jsxs)("div",{className:"flex flex-grow bg-lightMode-componentHead dark:bg-neutral-800 p-2 px-4 rounded-2xl  flex-col",children:[(0,r.jsxs)("p",{className:"font-semibold text-xs",children:[e.name," "]}),(0,r.jsxs)("p",{className:"text-[9px] text-neutral-500",children:[(0,n.Z)(s)," ago"]}),(0,r.jsx)("p",{className:"text-xs",children:e.content})]})]})})]})]})})};var i=!0;t.default=d}},function(e){e.O(0,[424,154,586,774,888,179],function(){return e(e.s=8303)}),_N_E=e.O()}]);