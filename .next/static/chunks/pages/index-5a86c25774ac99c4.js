(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(1588)}])},1649:function(e,t,s){"use strict";var l=s(5893);s(7294);var r=s(1664),n=s.n(r);let a=e=>{let{consultation:t,hide:s}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex justify-between rounded-lg items-center flex-col w-[325px]  bg-lightMode-component text-lightMode-txt dark:bg-darkMode-component dark:text-darkMode-txt shadow-md m-4 p-2 gap-2",children:[(0,l.jsx)("div",{className:"w-full flex content-center items-center p-1",children:(0,l.jsxs)("div",{className:"w-full flex content-center items-center flex-col",children:[(0,l.jsxs)("div",{className:"flex w-full ",children:[(0,l.jsx)("img",{className:"w-10 h-10 rounded-full ml-2 mb-2 mr-2",src:t.doctorProfile,alt:"img"}),(0,l.jsx)("span",{className:" text-xl flex items-center text-cyan-500",children:t.doctorName})]}),(0,l.jsx)("div",{className:"border-t-[1px] ml-2 px-2 py-2 flex w-full justify-start items-start",children:(0,l.jsxs)("ul",{className:"flex flex-col w-full text-xs font-thin font-sans justify-start items-start",children:[(0,l.jsxs)("li",{className:"font-thin font-sans",children:[(0,l.jsx)("span",{className:"font-bold",children:"Qualificaton -"}),(0,l.jsx)("br",{}),t.doctorRefId.qualification]}),(0,l.jsxs)("li",{className:"font-thin font-sans",children:[(0,l.jsx)("span",{className:"font-bold",children:"Experience -"})," ",(0,l.jsx)("br",{}),t.doctorRefId.experience]}),(0,l.jsxs)("li",{className:"font-thin font-sans",children:[(0,l.jsx)("span",{className:"font-bold",children:"LinkedIn -"})," ",t.doctorRefId.linkedin]}),(0,l.jsxs)("li",{className:"font-thin font-sans",children:[(0,l.jsx)("span",{className:"font-bold",children:"Twitter -"})," ",t.doctorRefId.twitter]}),(0,l.jsxs)("li",{className:"font-thin font-sans",children:[(0,l.jsx)("span",{className:"font-bold",children:"Working Hours -"})," ",(0,l.jsx)("br",{}),t.doctorRefId.timeSlot]})]})})]})}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("span",{className:"text-center  text-green-500 text-xl",children:["â‚¹",t.fee]}),s?(0,l.jsx)(l.Fragment,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"ml-2 flex items-center h-[3px] justify-center bg-white w-[3px] rounded-full"}),(0,l.jsx)("div",{className:"w-fit text-sm flex justify-center  items-center hover:text-gray-500 cursor-pointer",children:(0,l.jsxs)("span",{className:"pl-2",children:[" ",t.isAccepted?(0,l.jsx)("div",{className:" w-full p-[2px] px-3 bg-green-600 rounded-sm text-white",children:(0,l.jsx)("div",{className:"flex items-center font-semibold",children:"In Progress"})}):(0,l.jsx)(n(),{href:"/checkout/".concat(t.priceId),children:(0,l.jsx)("button",{className:" w-full p-[2px] px-3 bg-yellow-600 rounded-sm text-white ",children:(0,l.jsx)("div",{className:"flex items-center font-semibold",children:"Accept"})})})]})})]})]})]})})};t.Z=a},2917:function(e,t,s){"use strict";var l=s(5893);s(7294);var r=s(6154),n=s(9734);let a=e=>r.Z.get(e).then(e=>e.data),i=()=>{let{data:e,error:t}=(0,n.ZP)("/api/trending",a);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"min-w-[15rem] h-fit flex flex-col p-4 gap-4 shadow-xl bg-lightMode-component dark:bg-darkMode-component text-lightMode-txt dark:text-darkMode-txt rounded-lg sticky top-0",children:[(0,l.jsx)("div",{className:"w-full font-bold tracking-tight leading-tight flex flex-wrap content-center items-center ml-1 p-1 rounded-md text-md ",children:(0,l.jsx)("p",{className:"mr-3 ",children:"Trending Specialists"})}),null==e?void 0:e.trendingSpecialist.map((e,t)=>(0,l.jsxs)("div",{className:"w-full flex items-start border-teal-950 gap-2 text-sm px-4 ",children:[(0,l.jsx)("span",{className:"bg-cyan-500 text-white dark:text-darkMode-txt dark:bg-cyan-800 w-5 h-5 rounded-md flex justify-center",children:t+1}),(0,l.jsx)("span",{className:" border-neutral-500",children:e.doctorName},t)]},t))]})})};t.Z=i},8944:function(e,t,s){"use strict";function l(e){let t=Math.round(e/1e3),s=Math.round(e/6e4),l=Math.round(e/36e5),r=Math.floor(e/864e5),n=Math.floor(e/31536e6);return e<6e4?t+(t<2?" second":" seconds"):e<36e5?s+(s<2?" minute":" minutes"):e<864e5?l+(l<2?" hour":" hours"):e<31536e6?r+(r<2?" day":" days"):n+(n<2?" year":" years")}s.d(t,{Z:function(){return l}})},9676:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var l=s(5893),r=s(1664),n=s.n(r);s(7294);var a=s(3299),i=s(1163);let c=e=>{let{isDoctor:t}=e,s=(0,i.useRouter)(),r=()=>{(0,a.signOut)({redirect:!1}),s.push("/login")},c=t?"/doctor/":"/";return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("nav",{className:"sticky top-0 bg-lightMode-btn dark:bg-gray-800 w-100 px-8 md:px-auto",children:(0,l.jsxs)("div",{className:"md:h-16 h-28 mx-auto md:px-4 container flex items-center justify-between flex-wrap md:flex-nowrap",children:[(0,l.jsxs)(n(),{href:"/feed",className:"text-white md:order-1 flex items-center cursor-pointer",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),(0,l.jsx)("span",{className:"ml-2 text-2xl font-extrabold tracking-tight leading-tight",children:"AROGYAM"})]}),(0,l.jsx)("div",{className:"order-3 w-full md:w-auto md:order-2",children:(0,l.jsxs)("ul",{className:"text-xl flex justify-around gap-4",children:[(0,l.jsx)("li",{className:"md:px-2 md:py-2 text-white dark:text-white dark:hover:text-slate-400 hover:text-neutral-700",children:(0,l.jsx)(n(),{href:c,children:"Home"})}),(0,l.jsx)("li",{className:"md:px-2 md:py-2 text-white dark:text-white dark:hover:text-slate-400 hover:text-neutral-700",children:(0,l.jsx)(n(),{href:"/feed",children:"Feed"})}),(0,l.jsx)("li",{className:"md:px-2 md:py-2 text-white dark:text-white dark:hover:text-slate-400 hover:text-neutral-700",children:(0,l.jsx)(n(),{href:"".concat(c,"profile"),children:"Profile"})}),t?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("li",{className:"md:px-2 md:py-2 text-white dark:text-white dark:hover:text-slate-400 hover:text-neutral-700",children:(0,l.jsx)(n(),{href:"/doctor/consult",children:"Consult"})})}):(0,l.jsx)(l.Fragment,{})]})}),(0,l.jsx)("div",{className:"order-2 md:order-3",children:(0,l.jsxs)("button",{className:"px-4 py-2 hover:bg-cyan-700 dark:hover:bg-cyan-900 text-gray-50 rounded-md flex items-center gap-2",onClick:r,children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,l.jsx)("span",{children:"Sign Out"})]})})]})})})},d=e=>{let{children:t}=e,{data:s}=(0,a.useSession)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"w-screen h-screen overflow-hidden flex flex-col",children:[(0,l.jsx)(c,{isDoctor:null==s?void 0:s.user.isDoctor},1),t]})})};var o=d},137:function(e,t,s){"use strict";s.d(t,{H:function(){return l}});let l={position:"bottom-right",autoClose:3e3,pauseOnHover:!0,draggable:!0,theme:"dark"}},1588:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return j},default:function(){return w}});var l=s(5893),r=s(7294),n=s(6154),a=s(9676),i=s(1649),c=s(5434),d=s(8944);let o=e=>{let{user:t,post:s,refreshData:r}=e,a=new Date().getTime()-new Date(s.createdAt),i=async()=>{await n.Z.delete("/api/user/post/delete/".concat(s._id)),r()},o=async()=>{await n.Z.post("/api/user/post/".concat(s._id),{solved:!0}),r()};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"w-full h-[50%] flex content-center items-center flex-col bg-lightMode-component text-lightMode-txt dark:bg-darkMode-component dark:text-darkMode-txt shadow-xl p-4 gap-4 rounded-lg min-w-1/2",children:[(0,l.jsxs)("div",{className:"flex content-center items-center w-full",children:[(0,l.jsxs)("div",{className:"w-full flex flex-row content-center items-center",children:[(0,l.jsx)("img",{className:"w-10 h-10 rounded-full",src:t.profile,alt:"img"}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"ml-4 text-sm font-medium tracking-tight",children:t.fullname}),(0,l.jsxs)("span",{className:"ml-4 text-xs",children:[(0,d.Z)(a)," ago"]})]})]}),(0,l.jsx)("span",{className:"text-center text-3xl hover:text-red-600 cursor-pointer",onClick:i,children:(0,l.jsx)(c.ZkW,{})})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 w-full ",children:[(0,l.jsx)("p",{className:"text-sm text-justify font-sans",children:s.description}),(0,l.jsx)("img",{className:"w-auto h-[300px] object-contain",src:s.image,alt:""})]}),(0,l.jsx)("div",{className:"flex items-end w-full justify-end mr-2",children:(0,l.jsx)("button",{className:"text-sm bg-cyan-500 text-white  dark:bg-cyan-800 p-1 px-3 rounded-lg hover:bg-cyan-700 ",onClick:o,children:"Solved"})})]})})};var x=s(2917),m=s(2175),h=s(3750),u=s(2920);s(1399);var f=s(1163),p=s(137);let g=e=>{let{user:t,posts:s,consultations:c}=e,[d,g]=(0,r.useState)(null),[j,w]=(0,r.useState)(!0),v=(0,f.useRouter)(),b=()=>{v.replace(v.asPath)},N=async(e,s)=>{let l=new FormData;l.append("file",d);let r="".concat(Date.now(),"_").concat(d.name);l.append("newFilename",r),await fetch("/api/upload",{method:"POST",body:l});let{description:a,severity:i}=e,c=await n.Z.post("/api/user/post",{patientId:t._id,description:a,severity:i,image:"https://storage.googleapis.com/arogyam-bucket/".concat(r)});200===c.status?(u.Am.success(c.data.msg,p.H),setTimeout(b,4e3)):u.Am.error(c.data.msg,p.H)},k=(0,m.TA)({initialValues:{description:"",severity:"Low"},onSubmit:N});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.Z,{children:(0,l.jsxs)("div",{className:"w-full h-full flex justify-center items-start overflow-x-hidden p-5 gap-1 text-lightMode-txt dark:text-darkMode-txt bg-lightMode-background dark:bg-darkMode-background",children:[(0,l.jsx)("div",{className:" max-w-3xl w-full flex flex-col gap-5 p-5 pt-0",children:s[0]&&!s[0].solved?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o,{post:s[0],refreshData:b,user:t}),(0,l.jsxs)("div",{className:"w-full flex gap-4 justify-between  items-center ",children:[(0,l.jsxs)("button",{onClick:()=>{w(!j),c.reverse()},className:"border-[1px] border-neutral-400 dark:border-neutral-700  p-[1px] px-1 rounded-md cursor-pointer  tracking-tight leading-tight flex flex-row items-center gap-[6px]",children:["Sort by",(0,l.jsx)("span",{className:"cursor-pointer font-bold",children:j?(0,l.jsx)(h.Vjs,{}):(0,l.jsx)(h.A89,{})})]}),(0,l.jsxs)("div",{className:" tracking-tight leading-tight mr-3",children:[c.length+" ","offers"]})]}),(0,l.jsx)("div",{className:"w-full flex flex-row flex-wrap gap-2",children:c.map(e=>(0,l.jsx)(i.Z,{consultation:e,hide:!1},e._id))})]}):(0,l.jsxs)("div",{className:"w-full flex items-center flex-col text-lightMode-txt dark:text-darkMode-txt bg-lightMode-component dark:bg-darkMode-component shadow-md p-4 gap-5 rounded-lg",children:[(0,l.jsx)("div",{className:"flex content-center items-center w-full",children:(0,l.jsxs)("div",{className:"w-full flex flex-row content-center items-center",children:[(0,l.jsx)("img",{className:"w-[3rem] h-[3rem] rounded-full",src:t.profile,alt:"img"}),(0,l.jsxs)("div",{className:" ml-4 flex flex-col",children:[(0,l.jsx)("span",{className:" text-xl ",children:"Welcome to Arogyam!"}),(0,l.jsx)("span",{children:t.fullname})]})]})}),(0,l.jsxs)("form",{className:"w-full flex flex-col gap-2 text-sm items-center",onSubmit:k.handleSubmit,children:[(0,l.jsx)("textarea",{rows:"8",placeholder:"Please, describe your health",className:"bg-transparent w-full focus:outline-none border border-stone-400 rounded-md p-4",...k.getFieldProps("description")}),(0,l.jsxs)("div",{className:"w-full flex justify-between items-center px-2 gap-2",children:[(0,l.jsx)("input",{type:"file",className:"w-48",onChange:e=>{g(e.target.files[0])}}),(0,l.jsxs)("span",{className:"flex justify-center items-center gap-3",children:[(0,l.jsx)("label",{className:"block uppercase tracking-wide text-xs font-semibold",htmlFor:"grid-state",children:"Severity"}),(0,l.jsxs)("select",{className:"appearance-none p-2 block  bg-lightMode-btn dark:bg-darkMode-btn hover:bg-cyan-600 rounded leading-tight placeholder:text-white text-white focus:outline-none focus:bg-neutral-300 focus:text-black dark:focus:bg-neutral-800 dark:focus:text-white",id:"grid-state",...k.getFieldProps("severity"),children:[(0,l.jsx)("option",{children:"Low"}),(0,l.jsx)("option",{children:"Medium"}),(0,l.jsx)("option",{children:"High"})]})]}),(0,l.jsx)("button",{className:"font-medium bg-lightMode-btn dark:bg-darkMode-btn hover:bg-cyan-600 disabled:text-white disabled:bg-black/25 dark:disabled:text-black/40 dark:disabled:bg-white/75 disabled:cursor-not-allowed text-white rounded-md px-12 p-2",type:"submit",disabled:!k.values.description.trim(),children:"Post"})]})]})]})}),(0,l.jsx)("div",{className:" lg:flex md:flex sticky top-0 hidden ",id:"Trending",children:(0,l.jsx)(x.Z,{},1)})]})}),(0,l.jsx)(u.Ix,{})]})};var j=!0,w=g},8357:function(e,t,s){"use strict";s.d(t,{w_:function(){return c}});var l=s(7294),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=l.createContext&&l.createContext(r),a=function(){return(a=Object.assign||function(e){for(var t,s=1,l=arguments.length;s<l;s++)for(var r in t=arguments[s])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=function(e,t){var s={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(s[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,l=Object.getOwnPropertySymbols(e);r<l.length;r++)0>t.indexOf(l[r])&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(s[l[r]]=e[l[r]]);return s};function c(e){return function(t){return l.createElement(d,a({attr:a({},e.attr)},t),function e(t){return t&&t.map(function(t,s){return l.createElement(t.tag,a({key:s},t.attr),e(t.child))})}(e.child))}}function d(e){var t=function(t){var s,r=e.attr,n=e.size,c=e.title,d=i(e,["attr","size","title"]),o=n||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),l.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,d,{className:s,style:a(a({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),c&&l.createElement("title",null,c),e.children)};return void 0!==n?l.createElement(n.Consumer,null,function(e){return t(e)}):t(r)}}},function(e){e.O(0,[228,13,424,154,586,734,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);