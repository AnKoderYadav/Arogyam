(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return l(3583)}])},9676:function(e,t,l){"use strict";l.d(t,{Z:function(){return c}});var a=l(5893),r=l(1664),s=l.n(r);l(7294);var n=l(3299),d=l(1163);let o=e=>{let{isDoctor:t}=e,l=(0,d.useRouter)(),r=()=>{(0,n.signOut)({redirect:!1}),l.push("/login")},o=t?"/doctor/":"/";return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("nav",{className:"sticky top-0 bg-lightMode-btn dark:bg-gray-800 w-100 px-8 md:px-auto",children:(0,a.jsxs)("div",{className:"md:h-16 h-28 mx-auto md:px-4 container flex items-center justify-between flex-wrap md:flex-nowrap",children:[(0,a.jsxs)(s(),{href:"/feed",className:"text-white md:order-1 flex items-center cursor-pointer",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),(0,a.jsx)("span",{className:"ml-2 text-2xl font-extrabold tracking-tight leading-tight",children:"AROGYAM"})]}),(0,a.jsx)("div",{className:"order-3 w-full md:w-auto md:order-2",children:(0,a.jsxs)("ul",{className:"text-xl flex justify-around gap-4",children:[(0,a.jsx)("li",{className:"md:px-2 md:py-2 text-white dark:text-white dark:hover:text-slate-400 hover:text-neutral-700",children:(0,a.jsx)(s(),{href:o,children:"Home"})}),(0,a.jsx)("li",{className:"md:px-2 md:py-2 text-white dark:text-white dark:hover:text-slate-400 hover:text-neutral-700",children:(0,a.jsx)(s(),{href:"/feed",children:"Feed"})}),(0,a.jsx)("li",{className:"md:px-2 md:py-2 text-white dark:text-white dark:hover:text-slate-400 hover:text-neutral-700",children:(0,a.jsx)(s(),{href:"".concat(o,"profile"),children:"Profile"})}),t?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("li",{className:"md:px-2 md:py-2 text-white dark:text-white dark:hover:text-slate-400 hover:text-neutral-700",children:(0,a.jsx)(s(),{href:"/doctor/consult",children:"Consult"})})}):(0,a.jsx)(a.Fragment,{})]})}),(0,a.jsx)("div",{className:"order-2 md:order-3",children:(0,a.jsxs)("button",{className:"px-4 py-2 hover:bg-cyan-700 dark:hover:bg-cyan-900 text-gray-50 rounded-md flex items-center gap-2",onClick:r,children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,a.jsx)("span",{children:"Sign Out"})]})})]})})})},i=e=>{let{children:t}=e,{data:l}=(0,n.useSession)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"w-screen h-screen overflow-hidden flex flex-col",children:[(0,a.jsx)(o,{isDoctor:null==l?void 0:l.user.isDoctor},1),t]})})};var c=i},137:function(e,t,l){"use strict";l.d(t,{H:function(){return a}});let a={position:"bottom-right",autoClose:3e3,pauseOnHover:!0,draggable:!0,theme:"dark"}},3583:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSP:function(){return x}});var a=l(5893),r=l(7294),s=l(6154),n=l(9676),d=l(2175),o=l(2920);l(1399);var i=l(137);let c=e=>{let{user:t}=e,[l,c]=(0,r.useState)(""),[x,m]=(0,r.useState)(t.profile),u=e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];c(t),m(URL.createObjectURL(t))}},h=()=>{let{fullname:e,contact:t}=f.values;return e.length<3?(o.Am.info("Invalid Full Name!",i.H),!1):10===t.length||(o.Am.info("Invalid Contact",i.H),!1)},p=async(e,a)=>{if(h()){let a="".concat(Date.now(),"_").concat(l.name);if(""!==l){let e=new FormData;e.append("file",l),e.append("newFilename",a),await fetch("/api/upload",{method:"POST",body:e})}let{fullname:r,age:n,gender:d,contact:c}=e,x=await s.Z.post("/api/user/".concat(t._id),{fullname:r,age:n,gender:d,contact:c,profile:""!==l?"https://storage.googleapis.com/arogyam-storage-bucket/".concat(a):t.profile});200===x.status?o.Am.info(x.data.msg,i.H):o.Am.error(x.data.msg,i.H)}},f=(0,d.TA)({initialValues:{fullname:t.fullname,age:t.age,gender:t.gender,contact:t.contact},onSubmit:p});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Z,{children:(0,a.jsxs)("div",{className:" h-full bg-lightMode-background dark:bg-darkMode-background flex flex-wrap flex-row  items-start p-5 justify-center font-sans text-lightMode-txt dark:text-darkMode-txt overflow-scroll",children:[(0,a.jsxs)("div",{className:"flex flex-col mt-8 lg:w-[15rem] w-[20rem] md:w-[15rem] m-4",children:[(0,a.jsx)("div",{className:" p-5 mb-0 bg-lightMode-componentHead pl-5  rounded-t-md pb-1 w-auto  dark:bg-neutral-800",children:(0,a.jsxs)("h1",{className:"font-bold text-2xl",children:["Your"," ",(0,a.jsx)("span",{className:"text-cyan-800 dark:text-cyan-600",children:"Profile"})]})}),(0,a.jsxs)("div",{className:"mt-0 rounded-md border-slate-950 flex flex-col bg-lightMode-component dark:bg-darkMode-component items-center justify-center text-lightMode-txt dark:text-darkMode-txt w-auto rounded-t-none p-5",children:[(0,a.jsx)("div",{className:"flex justify-center mb-3 p-3 pb-0",children:(0,a.jsx)("img",{className:"rounded-full  border-[1px] w-40 h-40 border-slate-600",src:x,alt:"Profile photo"})}),(0,a.jsx)("div",{className:"font-bold m-4 mt-0 text-2xl",children:t.fullname}),(0,a.jsxs)("div",{className:"relative text-sm p-4 py-2 w-40 font-medium text-white bg-lightMode-btn dark:bg-darkMode-btn rounded-md ",children:[(0,a.jsx)("input",{id:"photo",type:"file",className:"absolute left-0 w-40 h-full opacity-0 hover:cursor-pointer",onChange:u}),"Upload New Photo"]})]})]}),(0,a.jsxs)("div",{className:"m-8 mb-0 rounded-md bg-lightMode-component dark:bg-darkMode-component dark:text-darkMode-txt text-lightMode-txt w-1/3 min-w-[20rem] h-[100%] md:h-[95%] lg:h-[95%] overflow-y-scroll scrollbar-hide",children:[(0,a.jsx)("div",{className:"p-5 bg-lightMode-componentHead dark:bg-neutral-800 rounded-t-md pb-1",children:(0,a.jsxs)("h1",{className:"font-bold text-2xl",children:["Edit"," ",(0,a.jsx)("span",{className:"text-cyan-800 dark:text-cyan-600",children:"Profile"})]})}),(0,a.jsxs)("form",{className:"w-full p-5",action:"",onSubmit:f.handleSubmit,children:[(0,a.jsx)("div",{className:"flex flex-wrap -mx-3 mb-6",children:(0,a.jsxs)("div",{className:"w-full px-3",children:[(0,a.jsx)("label",{className:"block uppercase tracking-wide text-xs font-semibold mb-2",children:"Full Name"}),(0,a.jsx)("input",{className:"appearance-none block w-full bg-neutral-200 dark:bg-neutral-800 rounded py-3 px-4 leading-tight placeholder:text-neutral-500 focus:outline-none focus:bg-neutral-300 focus:text-black dark:focus:bg-neutral-800 dark:focus:text-white",type:"text",...f.getFieldProps("fullname")})]})}),(0,a.jsx)("div",{className:"flex flex-wrap -mx-3 mb-6",children:(0,a.jsxs)("div",{className:"w-full px-3",children:[(0,a.jsx)("label",{className:"block uppercase tracking-wide text-xs font-semibold mb-2",children:"age"}),(0,a.jsx)("input",{className:"appearance-none block w-full bg-neutral-200 dark:bg-neutral-800 rounded py-3 px-4 leading-tight placeholder:text-neutral-500 focus:outline-none focus:bg-neutral-300 focus:text-black dark:focus:bg-neutral-800 dark:focus:text-white",type:"text",placeholder:"in years",...f.getFieldProps("age")})]})}),(0,a.jsx)("div",{className:"flex flex-wrap -mx-3 mb-6",children:(0,a.jsxs)("div",{className:"w-full px-3",children:[(0,a.jsx)("label",{className:"block uppercase tracking-wide text-xs font-semibold mb-2",children:"Contact Number"}),(0,a.jsx)("input",{className:"appearance-none block w-full bg-neutral-200 dark:bg-neutral-800 rounded py-3 px-4 leading-tight placeholder:text-neutral-500 focus:outline-none focus:bg-neutral-300 focus:text-black dark:focus:bg-neutral-800 dark:focus:text-white",type:"text",placeholder:"99xxxxxxxx",...f.getFieldProps("contact")})]})}),(0,a.jsx)("div",{className:"flex flex-wrap -mx-3 mb-6",children:(0,a.jsxs)("div",{className:"w-full px-3 mb-6 md:mb-0",children:[(0,a.jsx)("label",{className:"block uppercase tracking-wide text-xs font-semibold mb-2",htmlFor:"grid-state",children:"Gender"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("select",{className:"appearance-none block w-full bg-neutral-200 dark:bg-neutral-800 rounded py-3 px-4 leading-tight placeholder:text-neutral-500 focus:outline-none focus:bg-neutral-300 focus:text-black dark:focus:bg-neutral-800 dark:focus:text-white",id:"grid-state",...f.getFieldProps("gender"),children:[(0,a.jsx)("option",{children:"Prefer not to say"}),(0,a.jsx)("option",{children:"Male"}),(0,a.jsx)("option",{children:"Female"}),(0,a.jsx)("option",{children:"Transgender"})]}),(0,a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,a.jsx)("svg",{className:"fill-current h-4 w-4",children:(0,a.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})}),(0,a.jsx)("div",{className:"flex flex-row mx-7 justify-center",children:(0,a.jsx)("button",{type:"submit",className:"text-sm p-2 w-full font-medium bg-lightMode-btn dark:bg-darkMode-btn rounded-md m-5 text-white",children:"Update Profile"})})]})]})]})}),(0,a.jsx)(o.Ix,{})]})};var x=!0;t.default=c}},function(e){e.O(0,[424,154,586,774,888,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);